function setNewTitle(){titleElement.style.display="none",loaderElement.style.display="block",number=Math.round(Math.random()),0===number?reddit.random("theonion").fetch(function(e){currentArticle=e[0].data.children[0].data,titleElement.innerHTML=currentArticle.title,titleElement.style.display="block",loaderElement.style.display="none"}):reddit.random("nottheonion").fetch(function(e){currentArticle=e[0].data.children[0].data,titleElement.innerHTML=currentArticle.title,titleElement.style.display="block",loaderElement.style.display="none"})}function storageAvailable(e){try{var t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(o){return!1}}var currentArticle,score=0,onionButton=document.getElementById("onion-button"),notButton=document.getElementById("not-button"),titleElement=document.getElementById("article-title"),scoreElement=document.getElementById("score"),loaderElement=document.getElementById("loader"),highscoreElement=document.getElementById("high-score"),number;if(storageAvailable("localStorage")){var highscore=localStorage.getItem("onion-highscore");highscoreElement.style.display="block",localStorage.getItem("onion-highscore")&&(highscoreElement.innerHTML="High Score: "+highscore)}setNewTitle(),onionButton.addEventListener("click",function(){0===number?(swal({title:"Good job!",text:"You got it right! Check out the actual <a target='_blank' href="+currentArticle.url+">article</a>!",type:"success",html:!0},setNewTitle),score+=1,void 0!==highscore&&score>highscore&&(highscore=score,localStorage.setItem("onion-highscore",highscore),highscoreElement.innerHTML="High Score: "+highscore),scoreElement.innerHTML=score):swal({title:"Nope.",text:"Maybe next time. Check out the actual <a target='_blank' href="+currentArticle.url+">article</a>!",type:"error",html:!0},setNewTitle)},!1),notButton.addEventListener("click",function(){1===number?(swal({title:"Good job!",text:"You got it right! Check out the actual <a target='_blank' href="+currentArticle.url+">article</a>!",type:"success",html:!0},setNewTitle),score+=1,void 0!==highscore&&score>highscore&&(highscore=score,localStorage.setItem("onion-highscore",highscore),highscoreElement.innerHTML="High Score: "+highscore),scoreElement.innerHTML=score):swal({title:"Nope.",text:"Maybe next time. Check out the actual <a target='_blank' href="+currentArticle.url+">article</a>!",type:"error",html:!0},setNewTitle)},!1);